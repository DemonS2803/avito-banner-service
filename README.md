<h1>Тестовое задание в авито на Golang</h1>

<h2>Для запуска</h2>

1. git clone
   
2. docker-compose up
   
Чтобы запустить приложение вне контейнера необходимо поменять соответствующие адреса в /internal/repositories/postgres/postgres.go и  /internal/repositories/redis/redis.go на localhost

на localhost:8080 проброшено приложение

<h2>Тестирование</h2>

1. Для тестов поднимается контейнер с бд на :5433 и контейнер с redis на :6380

2. Все тесты написаны в /cmd/main_test.go т.к.
   
4. Запуск интеграционных тестов: go test .
   
6. Запуск нагрузочных тестов: ./tests/load-testing/run

результат одного из прогонов тестов: /tests/result.png

<h2>Мысли при выполнении</h2>

1. Увидел, что можно выбрать любой стек и обрадовался, но все же решил писать проект на го, потому что это интересно и, наверное, выше оценится (мой первый проект на go). По итогу удивлен производительностью (мой любимый Spring возможно не прошел б по скорости ответа).
   
2. Информация про 5 минут сразу привела меня к redis и TTL 5 мин
   
3. Для нагрузочного тестирования решил использовать k6 (потом можно вынести в отдельный контейнер). % неудачных запросов всегда ~равен 0.7 доступных потоков отправки (vue) и я никак не найду параметр заранее отключающий их. Поэтому для 0.01% failures увеличил RPS и общее время работы
   
4. Можно было вынести конфиги в .env
   
5. Еще можно ужать размер образов докера, но такой задачи не стоит

